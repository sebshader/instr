#N canvas 39 235 1304 461 10;
#X text 110 29 outlet audio~;
#X text 104 14 inlets audio~ \, control \, add \, multiply;
#X obj 369 13 inlet controls;
#X obj 13 33 inlet~;
#X obj 12 78 outlet~;
#N canvas 294 40 225 136 workings 0;
#N canvas 914 23 1024 669 fft-analysis 0;
#X obj 176 159 *~;
#X obj 175 94 inlet~;
#X obj 176 183 rfft~;
#X obj 197 135 tabreceive~ \$0-hann;
#X obj 177 560 *~;
#X obj 224 536 tabreceive~ \$0-hann;
#X obj 177 509 rifft~;
#X obj 177 614 outlet~;
#X obj 199 368 wrap~;
#X obj 178 392 -~;
#X obj 178 443 /~ 44.1;
#X obj 314 399 *~;
#X obj 278 400 *~;
#X obj 745 595 block~ 512 4;
#X obj 179 417 *~ 512;
#X obj 359 416 samplerate~;
#X obj 357 396 loadbang;
#X obj 357 440 / 1000;
#X obj 275 474 vd~ \$0-im;
#X obj 175 218 *~;
#X obj 217 218 *~;
#X obj 179 341 *~ 0.1;
#X obj 327 312 * 0.1;
#X obj 216 245 delwrite~ \$0-im 1200;
#X obj 824 182 osc~;
#X obj 835 125 bang~;
#X obj 496 167 table \$0-delspec 512;
#X obj 26 96 tabreceive~ \$0-delspec;
#X obj 26 116 +~ 1;
#X obj 26 139 *~ 512;
#X obj 836 154 f;
#X obj 328 290 r \$0-spec-depth;
#X obj 659 185 osc~;
#X obj 670 128 bang~;
#X obj 636 81 r \$0-delay-spectrum;
#X obj 660 206 tabsend~ \$0-delspec;
#X obj 671 157 f;
#X obj 497 189 table \$0-fbspec 512;
#X obj 820 58 r \$0-fb-spectrum;
#X obj 878 132 + 0.25;
#X obj 825 203 tabsend~ \$0-fbspec;
#X obj 433 288 tabreceive~ \$0-fbspec;
#X obj 433 310 +~ 1;
#X obj 433 333 *~ 0.485;
#X obj 567 287 r \$0-fb-depth;
#X obj 569 311 * 0.485;
#X obj 497 209 table \$0-gainspec 512;
#X obj 724 407 osc~;
#X obj 735 350 bang~;
#X obj 736 379 f;
#X obj 694 305 r \$0-gain-spectrum;
#X obj 777 335 r \$0-gain-offset;
#X obj 725 427 tabsend~ \$0-gainspec;
#X obj 375 38 +~ 1;
#X obj 778 357 + 0.75;
#X obj 387 127 *~ 0.015;
#X obj 375 18 tabreceive~ \$0-gainspec;
#X obj 375 61 *~ 0.5;
#X obj 712 113 r \$0-spec-offset;
#X obj 877 110 r \$0-fb-offset;
#X obj 177 589 *~;
#N canvas 0 22 462 312 rh_scalelog 0;
#X obj 20 155 exp;
#X obj 20 107 *;
#X obj 20 130 +;
#X obj 98 87 log;
#X obj 194 84 log;
#X obj 123 123 t b f;
#X obj 123 145 -;
#X obj 20 183 outlet;
#X obj 20 19 inlet;
#X obj 98 23 inlet;
#X obj 194 24 inlet;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 2 1;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 1 1;
#X connect 8 0 1 0;
#X connect 9 0 3 0;
#X connect 10 0 4 0;
#X restore 506 480 pd rh_scalelog;
#X msg 548 444 0.1;
#X msg 580 442 10;
#X obj 562 419 r \$0-loadbang;
#X obj 635 104 * 127;
#X obj 175 267 delwrite~ \$0-real 1200;
#X obj 178 474 vd~ \$0-real;
#X obj 694 331 * 127;
#X obj 693 351 mtof~;
#X obj 634 124 mtof~;
#X obj 821 80 * 127;
#X obj 820 100 mtof~;
#X obj 498 400 r \$0-total-gain;
#X obj 177 538 /~ 20;
#X obj 712 134 + 0.5;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 19 0;
#X connect 2 1 20 0;
#X connect 3 0 0 1;
#X connect 4 0 60 0;
#X connect 5 0 4 1;
#X connect 6 0 74 0;
#X connect 8 0 9 1;
#X connect 9 0 14 0;
#X connect 10 0 18 0;
#X connect 10 0 67 0;
#X connect 11 0 23 0;
#X connect 12 0 66 0;
#X connect 14 0 10 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 10 1;
#X connect 18 0 6 1;
#X connect 18 0 11 0;
#X connect 19 0 66 0;
#X connect 20 0 23 0;
#X connect 21 0 8 0;
#X connect 21 0 9 0;
#X connect 22 0 21 1;
#X connect 24 0 40 0;
#X connect 25 0 30 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 21 0;
#X connect 30 0 24 1;
#X connect 31 0 22 0;
#X connect 32 0 35 0;
#X connect 33 0 36 0;
#X connect 34 0 65 0;
#X connect 36 0 32 1;
#X connect 38 0 71 0;
#X connect 39 0 30 1;
#X connect 41 0 42 0;
#X connect 42 0 43 0;
#X connect 43 0 12 1;
#X connect 43 0 11 1;
#X connect 44 0 45 0;
#X connect 45 0 43 1;
#X connect 47 0 52 0;
#X connect 48 0 49 0;
#X connect 49 0 47 1;
#X connect 50 0 68 0;
#X connect 51 0 54 0;
#X connect 53 0 57 0;
#X connect 54 0 49 1;
#X connect 55 0 20 1;
#X connect 55 0 19 1;
#X connect 56 0 53 0;
#X connect 57 0 55 0;
#X connect 58 0 75 0;
#X connect 59 0 39 0;
#X connect 60 0 7 0;
#X connect 61 0 60 1;
#X connect 62 0 61 1;
#X connect 63 0 61 2;
#X connect 64 0 62 0;
#X connect 64 0 63 0;
#X connect 65 0 70 0;
#X connect 67 0 6 0;
#X connect 67 0 12 0;
#X connect 68 0 69 0;
#X connect 69 0 47 0;
#X connect 70 0 32 0;
#X connect 71 0 72 0;
#X connect 72 0 24 0;
#X connect 73 0 61 0;
#X connect 74 0 4 0;
#X connect 75 0 36 1;
#X restore 20 59 pd fft-analysis;
#N canvas 35 66 612 453 Hann-window 0;
#X text 40 27 The Hann window is now recomputed on 'loadbang' to make
the file smaller (it doesn't have to be saved with the array.);
#X obj 221 279 table \$0-hann 512;
#N canvas 0 22 454 304 until 0;
#X obj 261 160 f;
#X obj 288 162 + 1;
#X obj 261 138 until;
#X msg 299 132 0;
#X obj 261 107 t f b;
#X obj 261 78 inlet;
#X obj 261 190 outlet;
#X connect 0 0 1 0;
#X connect 0 0 6 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 2 0;
#X connect 4 1 3 0;
#X connect 5 0 4 0;
#X restore 382 136 pd until;
#X msg 382 112 512;
#X obj 382 162 t f f;
#X obj 409 209 * 3.14159;
#X obj 410 253 cos;
#X obj 410 230 / 256;
#X obj 367 317 pack 0 0;
#X obj 367 339 s \$0-hann;
#X obj 408 184 + 256;
#X obj 410 274 / 2;
#X obj 409 294 + 0.5;
#X obj 385 86 loadbang;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 4 1 10 0;
#X connect 5 0 7 0;
#X connect 6 0 11 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 10 0 5 0;
#X connect 11 0 12 0;
#X connect 12 0 8 1;
#X connect 13 0 3 0;
#X restore 118 59 pd Hann-window;
#X obj 19 80 outlet~;
#X obj 20 39 inlet~;
#X connect 0 0 2 0;
#X connect 3 0 0 0;
#X restore 12 56 pd workings;
#X obj 125 129 hsl 60 10 0 1 0 0 \$0-a \$0-ra delay-spec -2 -7 0 10
-258112 -262144 -355 885 1;
#X obj 299 129 hsl 60 10 0 1 0 0 \$0-c \$0-rc spec-depth -2 -7 0 10
-258112 -262144 -355 2360 1;
#X obj 212 129 hsl 60 10 0 1 0 0 \$0-b \$0-rb spec-offset -2 -7 0 10
-258112 -262144 -355 4720 1;
#X obj 125 153 hsl 60 10 0 1 0 0 \$0-d \$0-rd fb-spectrum -2 -7 0 10
-258112 -262144 -355 1180 1;
#X obj 212 153 hsl 60 10 0 1 0 0 \$0-e \$0-re fb-offset -2 -7 0 10
-258112 -262144 -355 4720 1;
#X obj 299 153 hsl 60 10 0 1 0 0 \$0-f \$0-rf fb-depth -2 -7 0 10 -258112
-262144 -355 4425 1;
#X obj 105 126 cnv 12 15 13 empty empty 0 1 6 0 12 -33289 -262144 0
;
#X obj 279 126 cnv 12 15 13 empty empty 2 1 6 0 12 -33289 -262144 0
;
#X obj 192 150 cnv 12 15 13 empty empty 4 1 6 0 12 -33289 -262144 0
;
#X obj 192 126 cnv 12 15 13 empty empty 1 1 6 0 12 -33289 -262144 0
;
#X obj 105 150 cnv 12 15 13 empty empty 3 1 6 0 12 -33289 -262144 0
;
#X obj 279 150 cnv 12 15 13 empty empty 5 1 6 0 12 -33289 -262144 0
;
#X obj 124 176 hsl 60 10 0 1 0 0 \$0-g \$0-rg gain-spec -2 -7 0 10
-258112 -262144 -355 1475 1;
#X obj 211 176 hsl 60 10 0 1 0 0 \$0-h \$0-rh gain-offset -2 -7 0 10
-258112 -262144 -355 1475 1;
#X obj 299 176 hsl 60 10 0 1 0 0 \$0-i \$0-ri total-gain -2 -7 0 10
-258112 -262144 -355 2944 1;
#X obj 191 173 cnv 12 15 13 empty empty 7 1 6 0 12 -33289 -262144 0
;
#X obj 104 173 cnv 12 15 13 empty empty 6 1 6 0 12 -33289 -262144 0
;
#X obj 279 173 cnv 12 15 13 empty empty 8 1 6 0 12 -33289 -262144 0
;
#X obj 452 207 diy-gabs \$0 a delay-spectrum;
#X obj 497 229 diy-gabs \$0 b spec-offset;
#X obj 536 257 diy-gabs \$0 c spec-depth;
#X obj 570 280 diy-gabs \$0 d fb-spectrum;
#X obj 596 308 diy-gabs \$0 e fb-offset;
#X obj 633 335 diy-gabs \$0 f fb-depth;
#X obj 661 360 diy-gabs \$0 g gain-spectrum;
#X obj 700 385 diy-gabs \$0 h gain-offset;
#X obj 727 423 diy-gabs \$0 i total-gain;
#X obj 902 9 loadbang;
#X obj 902 32 t b b;
#X obj 1015 93 s \$0-loadbang;
#X msg 902 56 0.15 0.8 0.4 0.2 0.8 0.75 0.25 0.25 0.499;
#X obj 848 95 unpack f f f f f f f f f;
#N canvas 629 32 778 610 rgb 0;
#X obj 296 207 * 256;
#X obj 344 180 * 256;
#X obj 346 201 * 256;
#X obj 312 270 +;
#X obj 298 228 t b f;
#X obj 312 293 +;
#X obj 346 223 t b f;
#X obj 252 186 int;
#X msg 263 68 0;
#X obj 252 163 * -1;
#X obj 296 162 * -1;
#X obj 343 158 * -1;
#X obj 103 123 vsl 10 40 1 255 0 0 ertteetyeyterttretretrrtrtrtrtrt
hhghghghghghghgggggh empty 0 -8 0 10 -4160 -262144 -1 0 0;
#X obj 115 123 vsl 10 40 1 255 0 0 ertteetyeyterttretretrrtrtrtrtrt
hhghghghghghghgggggh empty 0 -8 0 10 -4034 -262144 -1 0 0;
#X obj 127 123 vsl 10 40 1 255 0 0 ertteetyeyterttretretrrtrtrtrtrt
hhghghghghghghgggggh empty 0 -8 0 10 -258113 -262144 -1 0 0;
#X obj 252 144 int;
#X obj 293 142 int;
#X obj 342 138 int;
#X msg 344 372 color \$1 0 28;
#X obj 354 449 s \$0-diyglob;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 18 0;
#X connect 6 0 3 0;
#X connect 6 1 5 1;
#X connect 7 0 3 0;
#X connect 8 0 12 0;
#X connect 8 0 13 0;
#X connect 8 0 14 0;
#X connect 9 0 7 0;
#X connect 10 0 0 0;
#X connect 11 0 1 0;
#X connect 12 0 15 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 9 0;
#X connect 16 0 10 0;
#X connect 17 0 11 0;
#X connect 18 0 19 0;
#X coords 0 -1 1 1 40 70 1 100 100;
#X restore 196 268 pd rgb;
#X obj 408 74 route delay-spectrum spec-offset spec-depth fb-spectrum
fb-offset fb-depth gain-spectrum gain-offset total-gain;
#X obj 447 342 outlet;
#X connect 2 0 39 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 24 0 40 0;
#X connect 25 0 40 0;
#X connect 26 0 40 0;
#X connect 27 0 40 0;
#X connect 28 0 40 0;
#X connect 29 0 40 0;
#X connect 30 0 40 0;
#X connect 31 0 40 0;
#X connect 32 0 40 0;
#X connect 33 0 34 0;
#X connect 34 0 36 0;
#X connect 34 1 35 0;
#X connect 36 0 37 0;
#X connect 37 0 24 0;
#X connect 37 1 25 0;
#X connect 37 2 26 0;
#X connect 37 3 27 0;
#X connect 37 4 28 0;
#X connect 37 5 29 0;
#X connect 37 6 30 0;
#X connect 37 7 31 0;
#X connect 37 8 32 0;
#X connect 39 0 24 0;
#X connect 39 1 25 0;
#X connect 39 2 26 0;
#X connect 39 3 27 0;
#X connect 39 4 28 0;
#X connect 39 5 29 0;
#X connect 39 6 30 0;
#X connect 39 7 31 0;
#X connect 39 8 32 0;
#X coords 0 -1 1 1 265 89 1 100 100;
